<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Chan&#39;s Blog">
<meta property="og:url" content="http://mrhu.vip/page/11/index.html">
<meta property="og:site_name" content="Chan&#39;s Blog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chan&#39;s Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://mrhu.vip/page/11/"/>





  <title>Chan's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Chan's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">CallMe胡先生</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mrhu.vip/2018/08/06/Python小技巧-装饰器-Decorator/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cheng Hu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chan's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/06/Python小技巧-装饰器-Decorator/" itemprop="url">Python小技巧:装饰器(Decorator)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-06T08:48:26+08:00">
                2018-08-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="装饰器：decorator"><a href="#装饰器：decorator" class="headerlink" title="装饰器：decorator"></a>装饰器：decorator</h2><p>今天看了一个关于python中decorator的讲解，第一次接触这个概念，写一篇文章来捋捋自己的理解。</p>
<p><em>talk is cheap，show me the code</em>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这段代码是一个最简单版本的判断质数的方法，并且输出所有质数和所花费的时间</span></span><br><span class="line"><span class="comment"># 判断某个返回内质数可以有更加简单的方式，使用一个一维数组来表示各个数是否为质数，</span></span><br><span class="line"><span class="comment"># 从2开始，2*2,2*3，2*4...然后3*3,3*4,3*5...，然后n*(n+1),n*(n+2)...</span></span><br><span class="line"><span class="comment"># n的范围为nums的平方根，然后遍历一遍一维数组</span></span><br><span class="line"><span class="comment"># 输出所有数组状态为true的值，即为所有的质数。</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_prime</span><span class="params">(num)</span>:</span></span><br><span class="line">   <span class="keyword">if</span> num&lt;<span class="number">2</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">   <span class="keyword">elif</span> num == <span class="number">2</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">   <span class="keyword">else</span>:</span><br><span class="line">      <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,num):</span><br><span class="line">         <span class="keyword">if</span> num%i == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">prime_nums</span><span class="params">()</span>:</span></span><br><span class="line">    t1 = time.time()</span><br><span class="line">   <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,<span class="number">10000</span>):</span><br><span class="line">      <span class="keyword">if</span> is_prime(i):</span><br><span class="line">         print(i)</span><br><span class="line">    t2 = time.time()</span><br><span class="line">    print(t2-t1)</span><br><span class="line"></span><br><span class="line">prime_nums()</span><br></pre></td></tr></table></figure>
<h3 id="使用decorator将计时部分和逻辑部分分离开："><a href="#使用decorator将计时部分和逻辑部分分离开：" class="headerlink" title="使用decorator将计时部分和逻辑部分分离开："></a>使用decorator将计时部分和逻辑部分分离开：</h3><p>在上面这段代码中，不难发现，如果存在多个方法中需要用到时间记录，就需要写很多重复的t1，t2，t2-t1的操作，这显得很不简洁，所以我们想要将计时部分和逻辑部分分离开来。这里就需要使用装饰器（decorator）：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># 构建decorator，参数就是我们想要运行的函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">display_time</span><span class="params">(func)</span>:</span></span><br><span class="line">   <span class="comment"># 再定一个wrapper方法，wrapper表示运行func时需要运行哪些内容；</span></span><br><span class="line">   <span class="comment"># 在这个例子中我们需要先取开始时间，然后调用func函数，然后再取结束时间，并输出</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">()</span>:</span></span><br><span class="line">      t1 = time.time()</span><br><span class="line">      func()</span><br><span class="line">      t2 = time.time()</span><br><span class="line">      print(t2-t1)</span><br><span class="line">   <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_prime</span><span class="params">(num)</span>:</span></span><br><span class="line">   <span class="keyword">if</span> num&lt;<span class="number">2</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">   <span class="keyword">elif</span> num == <span class="number">2</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">   <span class="keyword">else</span>:</span><br><span class="line">      <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,num):</span><br><span class="line">         <span class="keyword">if</span> num%i == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@display_time</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">prime_nums</span><span class="params">()</span>:</span></span><br><span class="line">   <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,<span class="number">10000</span>):</span><br><span class="line">      <span class="keyword">if</span> is_prime(i):</span><br><span class="line">         print(i)</span><br><span class="line"></span><br><span class="line">prime_nums()</span><br></pre></td></tr></table></figure>
<p>在创建好装饰器后，想要调用装饰器，则需要在prime_nums()方法上加一个@display_time，这样当调用prime_nums()时，会去调用display_time(func)方法，并将prime_nums()函数传入display_time(func)的参数func中，然后会调用warpper，按照里面定义的执行顺序进行运行。</p>
<h3 id="存在返回值的decorator设置："><a href="#存在返回值的decorator设置：" class="headerlink" title="存在返回值的decorator设置："></a>存在返回值的decorator设置：</h3><p>这里的prime_nums()时没有参数返回的，如果有返回该，即现在prime_nums()的目标是统计存在多少个质数，并返回。如何更改decorator呢？</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># func中存在返回值，func中return值不会在wrapper中返回</span></span><br><span class="line"><span class="comment"># 需要在wrapper中获取func的返回值，然后手动return这个值</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">display_time_return</span><span class="params">(func)</span>:</span></span><br><span class="line">   <span class="comment"># 运行func时需要运行哪些内容</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">()</span>:</span></span><br><span class="line">      t1 = time.time()</span><br><span class="line">      result = func()</span><br><span class="line">      t2 = time.time()</span><br><span class="line">      print(t2-t1)</span><br><span class="line">      <span class="keyword">return</span> result</span><br><span class="line">   <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_prime</span><span class="params">(num)</span>:</span></span><br><span class="line">   <span class="keyword">if</span> num&lt;<span class="number">2</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">   <span class="keyword">elif</span> num == <span class="number">2</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">   <span class="keyword">else</span>:</span><br><span class="line">      <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,num):</span><br><span class="line">         <span class="keyword">if</span> num%i == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@display_time_return</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count_prime_nums</span><span class="params">()</span>:</span></span><br><span class="line">   count = <span class="number">0</span></span><br><span class="line">   <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,<span class="number">10000</span>):</span><br><span class="line">      <span class="keyword">if</span> is_prime(i):</span><br><span class="line">         count = count+<span class="number">1</span></span><br><span class="line">   <span class="keyword">return</span> count</span><br><span class="line"></span><br><span class="line">count_1 = count_prime_nums()</span><br><span class="line">print(count_1)</span><br></pre></td></tr></table></figure>
<p>以上code就是在func存在返回值时，decorator的定义情况。在调用func时，由于其存在返回值，但是wrapper中并没有将这个返回值进行保留，所以我们需要在wrapper中手动获取这个返回值，即用一个变量result = func()，然后在warpper中返回result，这样在执行count_prime_nums()方法，调用完decorator，会返回func()原本会返回的值。这样就解决了方法中存在返回值的情况。</p>
<h3 id="存在参数传递的decorator设置："><a href="#存在参数传递的decorator设置：" class="headerlink" title="存在参数传递的decorator设置："></a>存在参数传递的decorator设置：</h3><p>如果方法存在参数怎么办？当前是固定了10000这个值，但是我们想用参数的形式来传入这个值，这样我们想求多少以内的质数个数只需要更改传入参数就可以了。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">display_time_return_args</span><span class="params">(func)</span>:</span></span><br><span class="line">   <span class="comment"># 运行func时需要运行哪些内容</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args)</span>:</span></span><br><span class="line">      t1 = time.time()</span><br><span class="line">      result = func(*args)</span><br><span class="line">      t2 = time.time()</span><br><span class="line">      print(t2-t1)</span><br><span class="line">      <span class="keyword">return</span> result</span><br><span class="line">   <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_prime</span><span class="params">(num)</span>:</span></span><br><span class="line">   <span class="keyword">if</span> num&lt;<span class="number">2</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">   <span class="keyword">elif</span> num == <span class="number">2</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line">   <span class="keyword">else</span>:</span><br><span class="line">      <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,num):</span><br><span class="line">         <span class="keyword">if</span> num%i == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@display_time_return_args</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count_prime_nums_args</span><span class="params">(maxnum)</span>:</span></span><br><span class="line">   count = <span class="number">0</span></span><br><span class="line">   <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,maxnum):</span><br><span class="line">      <span class="keyword">if</span> is_prime(i):</span><br><span class="line">         count = count+<span class="number">1</span></span><br><span class="line">   <span class="keyword">return</span> count</span><br><span class="line"></span><br><span class="line">count_2 = count_prime_nums_args(<span class="number">20000</span>)</span><br><span class="line">print(count_2)</span><br></pre></td></tr></table></figure>
<p>上面的代码就是count_prime_nums_args(arg)存在参数时使用decorator的方式，在wrapper(*args)加上*args表示传入的参数，这个参数可以是一个或者多个，当执行count_prime_nums_args时调用装饰器，方法中的参数会传入decorator中的*args，在func(*args)也加上这些参数的表示，这样就能将有参方法的参数传入到warpper中。</p>
<p><em>装饰器可以有效的解决逻辑部分和计时部分(或其他辅助功能)进行分离，这样做就可以使得代码更加简洁，无需重复使用相同的一段代码。</em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mrhu.vip/2018/08/05/Max-Duplication-Area-Number/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cheng Hu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chan's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/05/Max-Duplication-Area-Number/" itemprop="url">Max_Duplication_Area_Number</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-05T15:34:27+08:00">
                2018-08-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/InterviewQ/" itemprop="url" rel="index">
                    <span itemprop="name">InterviewQ</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>//<br>// Created by Mr.Hu on 2018/8/5.<br>//<br>// Netease 2018<br>//<br>// 题目描述：平面内又n个矩形，第一个矩形的左下角坐标为（x1[i],y1[i]），右上角坐标为（x2[i],y2[i]）<br>// 如果两个或多个矩形存在公共区域，则认为它们相互重叠（不考虑边界和角落），求平面内重叠矩阵数量最多的地方，有多少个矩阵相互重叠。<br>//<br>// 输入描述：输入五行，第一行为矩阵个数（2&lt;=n&lt;=50）；第二行包含n个整数，x1[i]，表示左下角的横坐标；第三行包括n个整数，y1[i]，<br>// 表示左下角的纵坐标，第四行包括n个整数，x2[i]，表示右上角的横坐标；第五行包含n个整数，y2[i]，表示右上角的纵坐标。<br>//<br>// 输出描述：输出整数，表示重叠区域最多地方的矩形个数，如果都不重叠，则输出1<br>//<br>// 想法1：对于所有的矩形，判断是否两两相交，并将结果记录在map&lt;int,set<int>&gt;当中，然后再分析相交结果中最多的相交区域。<br>//<br>// 想法2：对于所有x，y进行两两组合，即可得到所有矩阵的交点和顶点，然后对每个点判断是否在给定的矩阵内部，如果在，则count++，<br>// 每次取最大的count值最为结果，最后输出最终的count值即可。<br>//<br>//</int></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">is_duplicated</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp;position, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// true表示存在重复，false表示不存在重复</span></span><br><span class="line">    <span class="keyword">return</span> !(position[<span class="number">0</span>][i] &gt;= position[<span class="number">2</span>][j] || position[<span class="number">2</span>][i] &lt;= position[<span class="number">0</span>][j] || position[<span class="number">3</span>][i] &lt;= position[<span class="number">1</span>][j] ||</span><br><span class="line">             position[<span class="number">1</span>][i] &gt;= position[<span class="number">3</span>][j]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">duplication_area_number</span><span class="params">(<span class="keyword">int</span> n, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp;position)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;&gt; state;</span><br><span class="line">    <span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; tmp;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; ++i) &#123;</span><br><span class="line">        state[i].insert(i);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; n; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span> (is_duplicated(position, i, j)) &#123;</span><br><span class="line">                state[i].insert(j);</span><br><span class="line">                state[j].insert(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 遍历完之后判断交集,得到最终的重叠个数</span></span><br><span class="line">    <span class="comment">// 遇到问题...如何去判断相交位置最多的矩形个数</span></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; position(<span class="number">4</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(n));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; position[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> result = duplication_area_number(n, position);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; result &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mrhu.vip/2018/08/05/Find-the-All-Integer-Pair/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cheng Hu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chan's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/05/Find-the-All-Integer-Pair/" itemprop="url">Find_the_All_Integer_Pair</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-05T11:06:54+08:00">
                2018-08-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/InterviewQ/" itemprop="url" rel="index">
                    <span itemprop="name">InterviewQ</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>//<br>// Created by Mr.Hu on 2018/8/5.<br>//<br>// Tencent 2018 机试题<br>//<br>// 题目描述：已知一个正整数对(x,y)，其中x，y都不大于n，并且x除以y的余数大于等于k，求满足该条件共有多少数对。<br>// 输入两个整数n，k（1&lt;=n&lt;=10^5，0&lt;=k&lt;=n-1）<br>//<br>// 分析：1、题目要求x%y&gt;=k，那么x一定满足x&gt;=k，因为余数是一定小于等于被除数，要想余数&gt;=k，则被除数一定&gt;=k，<br>// x的边界为x&lt;=n；2、对于y，因为余数是一定小于除数，要想余数&gt;=k，则除数一定&gt;=k；3、当除数取x-k之后的数时，<br>// 余数一定小于k，所以除数的边界为y&lt;=x-k。在上述三个条件下的双循环中进行遍历，求得x&gt;=y时满足条件pairs个数.<br>// 值得注意的是，由于k是可以取0，而n是从1开始，所以我们在循环之前先判断k的值，如果k==0，则用tmp来代替k，且tmp最小为1。<br>//<br>// 讨论完x&gt;=y（k=0时存在x==y的情况），还需要考虑x&lt;y的情况（）此时y的取值情况存在与闭区间[x+1,n]，其中包含n-x个数，<br>// 且在x&gt;=k的情况下，y取这n-x个数个数，余数都是x，即都满足题目要求。<br>// 因此判断n-x&gt;0?，是则将result+=n-x。<br>//<br>// 重复上述循环，最终返回result的结果。<br>//<br>// 题目的主要思考点是判断x与y的取值情况，我们可以根据被除数、除数、余数三者之间的关系来缩小判定范围，从而降低时间复杂度。<br>//</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">number_of_integer_pair</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> tmp = k == <span class="number">0</span> ? <span class="number">1</span> : k;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> x = tmp; x &lt;= n; ++x) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> y = tmp; y &lt;= x - k; ++y) &#123;</span><br><span class="line">            <span class="keyword">if</span> (x % y &gt;= k) &#123;</span><br><span class="line">                ++result;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (n - x &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            result += n - x;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, k;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    <span class="keyword">int</span> result = number_of_integer_pair(n, k);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; result &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mrhu.vip/2018/08/04/c-450-Delete-Node-in-a-BST/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cheng Hu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chan's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/04/c-450-Delete-Node-in-a-BST/" itemprop="url">c_450_Delete_Node_in_a_BST</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-04T21:22:14+08:00">
                2018-08-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="/2018/08/04/c-450-Delete-Node-in-a-BST/question.png" alt=""></p>
<p>//<br>// Created by Mr.Hu on 2018/8/4.<br>//<br>// leetcode 450 delete node in a BST<br>//<br>// 题目要求在BST（二叉搜索树）中删除val==key的节点，并返回删除节点后新的BST的root node<br>//<br>// 要想实现这样一个操作，需要进行两步，首先需要遍历BST判断是否存在这样的节点，根据BST的特点，<br>// 实际使用的是二分搜索方法去定位这样一个节点。<br>// 首先，如果这个不存在，则直接返回原树的根节点root；<br>// 如果节点存在，且节点是叶子节点，则直接删除这个节点即可；<br>// 如果节点存在，但是不是叶子节点，当我们删除这个节点后，此时BST的结构被破坏，我们需要更新这个<br>// BST，而更新的方法就是找到删除节点右边子数中最左叶子节点，将这个节点移动到当前删除的节点的位置，<br>// 并将该节点的右子树分配给其父节点当作左子树，这就能够保证BST的特性。<br>//<br>//<br>// 这个题目的代码我写的很多，分了几个函数来实现，我在解答完这个题目之后，想到了无需如此复杂的代码实现，<br>// 其实对于节点的交换和删除，我们没有必要去将节点真正重新连接，有时候我们只需要交换两个node的val值就可以了。<br>// 在以后类似的题目中进行实现。<br>//</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TreeNode</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    TreeNode *left;</span><br><span class="line">    TreeNode *right;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="keyword">int</span> x) : val(x), left(<span class="literal">nullptr</span>), right(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 重构子树并返回重构后子树的根节点</span></span><br><span class="line">    <span class="function">TreeNode *<span class="title">reConstruct</span><span class="params">(TreeNode *left, TreeNode *right)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (left == <span class="literal">nullptr</span> || right == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> left == <span class="literal">nullptr</span> ? right : left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (right-&gt;left == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            right-&gt;left = left;</span><br><span class="line">            <span class="keyword">return</span> right;</span><br><span class="line">        &#125;</span><br><span class="line">        TreeNode *tmp = right-&gt;left;</span><br><span class="line">        TreeNode *father = right;</span><br><span class="line">        <span class="keyword">while</span> (tmp != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (tmp-&gt;left != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                father = tmp;</span><br><span class="line">                tmp = tmp-&gt;left;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                father-&gt;left = tmp-&gt;right;</span><br><span class="line">                tmp-&gt;left = left;</span><br><span class="line">                tmp-&gt;right = right;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> tmp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isLeafNode</span><span class="params">(TreeNode *current)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (current-&gt;left != <span class="literal">nullptr</span> || current-&gt;right != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function">TreeNode *<span class="title">findKeyNode</span><span class="params">(TreeNode *root, <span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        TreeNode *fatherNode = <span class="literal">nullptr</span>;</span><br><span class="line">        TreeNode *currentNode = root;</span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">while</span> (currentNode != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (currentNode-&gt;val == key) &#123;</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (currentNode-&gt;val &gt; key) &#123;</span><br><span class="line">                fatherNode = currentNode;</span><br><span class="line">                currentNode = currentNode-&gt;left;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                fatherNode = currentNode;</span><br><span class="line">                currentNode = currentNode-&gt;right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!flag) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!isLeafNode(currentNode)) &#123;</span><br><span class="line">            <span class="keyword">return</span> fatherNode;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (fatherNode-&gt;left == currentNode) &#123;</span><br><span class="line">            fatherNode-&gt;left = <span class="literal">nullptr</span>;</span><br><span class="line">            <span class="keyword">delete</span> currentNode;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            fatherNode-&gt;right = <span class="literal">nullptr</span>;</span><br><span class="line">            <span class="keyword">delete</span> currentNode;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">TreeNode *<span class="title">deleteNode</span><span class="params">(TreeNode *root, <span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line">        TreeNode *fatherNode;</span><br><span class="line">        TreeNode *resultNode;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;val == key) &#123;</span><br><span class="line">            <span class="comment">// keyNodeFather = nullptr;</span></span><br><span class="line">            resultNode = reConstruct(root-&gt;left, root-&gt;right);</span><br><span class="line">            <span class="keyword">return</span> resultNode;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            fatherNode = findKeyNode(root, key);</span><br><span class="line">            <span class="comment">// 没有等于key这样的节点 或者这样的节点为根节点</span></span><br><span class="line">            <span class="keyword">if</span> (fatherNode == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> root;</span><br><span class="line">            &#125;</span><br><span class="line">                <span class="comment">// key这样的节点在左节点</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (fatherNode-&gt;left != <span class="literal">nullptr</span> &amp;&amp; fatherNode-&gt;left-&gt;val == key) &#123;</span><br><span class="line">                resultNode = reConstruct(fatherNode-&gt;left-&gt;left, fatherNode-&gt;left-&gt;right);</span><br><span class="line">                <span class="keyword">delete</span> fatherNode-&gt;left;</span><br><span class="line">                fatherNode-&gt;left = resultNode;</span><br><span class="line">            &#125;</span><br><span class="line">                <span class="comment">// key这样的节点在右节点</span></span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                resultNode = reConstruct(fatherNode-&gt;right-&gt;left, fatherNode-&gt;right-&gt;right);</span><br><span class="line">                <span class="keyword">delete</span> fatherNode-&gt;right;</span><br><span class="line">                fatherNode-&gt;right = resultNode;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="function">TreeNode <span class="title">a</span><span class="params">(<span class="number">5</span>)</span></span>;</span><br><span class="line">    <span class="function">TreeNode <span class="title">b</span><span class="params">(<span class="number">3</span>)</span></span>;</span><br><span class="line">    <span class="function">TreeNode <span class="title">c</span><span class="params">(<span class="number">6</span>)</span></span>;</span><br><span class="line">    <span class="function">TreeNode <span class="title">d</span><span class="params">(<span class="number">2</span>)</span></span>;</span><br><span class="line">    <span class="function">TreeNode <span class="title">e</span><span class="params">(<span class="number">4</span>)</span></span>;</span><br><span class="line">    <span class="function">TreeNode <span class="title">f</span><span class="params">(<span class="number">7</span>)</span></span>;</span><br><span class="line">    a.left = &amp;b;</span><br><span class="line">    a.right = &amp;c;</span><br><span class="line">    b.left = &amp;d;</span><br><span class="line">    b.right = &amp;e;</span><br><span class="line">    c.right = &amp;f;</span><br><span class="line">    Solution solution;</span><br><span class="line">    TreeNode* resultRoot = solution.deleteNode(&amp;a,<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mrhu.vip/2018/08/03/c-392-Is-Subsequence/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cheng Hu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chan's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/03/c-392-Is-Subsequence/" itemprop="url">c_392_Is_Subsequence</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-03T17:50:35+08:00">
                2018-08-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="/2018/08/03/c-392-Is-Subsequence/question.png" alt=""></p>
<p>//<br>// Created by Mr.Hu on 2018/8/3.<br>//<br>// leetcode 392 is subsequence<br>//<br>// 题目要求判断字符串s是否为字符串t的子序列，即能否在字符串t中不改变字符顺序的前提下拼接出字符串s。<br>//<br>// 这个题目是我在leetcode上随机pick one得到的，这个题目来的正是时候。<br>// 为什么说正是时候呢？因为最近几天正在看关于字符串相关的算法，然后有很多模糊区域，这个题目让我对这类问题更加清晰。<br>//<br>// 首先我来说说我刚开始看到这个题目思路，我想从两个字符串的末尾开始判断，如果当前字符相同，我只需要判断两个<br>// 字符串的子串，子串可以通过string.substr(begin,length)得到，然后继续判断。如果不相等，我们不改变s，将<br>// t字符串取t.substr(begin,length-1)，继续比较。这就是采用递归的方式进行解答。<br>// 然后我还傻傻的想，如果第一种情况下最终递归结果为false，那我是不是应该回溯一下，在第一种情况下还要考虑<br>// s不变，t.substr(begin,length-1)来递归一下。于是有了下面code中的isSubsequence，而该方法的注释部分就是<br>// 我在判断s[length-1]==t[length-1]的情况下进行递归，最终结果为匹配不到，只将t减少末尾一位，而s不变的操作。<br>//<br>//<br>// 好了，上面就是我滑稽而迷糊的操作。<br>// 当然这种操作在s和t长度较小的情况是可以得到正确结果的，但是题目指出，t的长度可以达到500000，而我每次做递归都<br>// 将s和t进行传递，而这种传递是拷贝字符串，而不是引用，所以就导致了最后的memory limit exceeded错误。<br>//<br>// 除了这一点以外，另外主要一点，就是我在isSubsequence方法中注释的那一部分，在s[s_length-1]==t[t_length-1]<br>// 的情况下，进行递归操作，最终的递归返回的结果为false时，我去进行isSubsequence(s,t.substr(0,t_length-1))操作。<br>// 其实这个操作是多余无用的，只会增加计算量，对最终的结果没有影响。<br>//<br>// 我为什么会有这种想法呢，我分析了一下：之所以进行这样的操作，是因为在”字符串的模式匹配”中，如果两个字符相等，继续后面的<br>// 判断，如果最终没有匹配到，此时模式串回到第一个字符位置，而在BF方法中，字符串则回到原来与模式串第一位相等的字符的下一位。<br>//<br>// 没错，正是因为将”字符串的模式匹配”与”字符串子序列”混淆，导致我增加了这个多余的操作。<br>// 对于”字符串的模式匹配”，是要求找到与模式串相同的子串，而这个子串在字符串中必须是连续的。<br>// 对于”字符串子序列”，要求就没有那么严格，只需要字符在顺序上一致就行。<br>// 所以对于s[length-1]==t[length-1]的情况，我们只需要去继续执行<br>// isSubsequence(s.substr(0, s_length - 1), t.substr(0, t_length - 1))，<br>// 因为如果这样执行最终得到false的结果，说明t剩下子串中没有包含s剩下子串的，<br>// 计算增加注释中的操作，一个更小的t子串更加不可能包含原本的s串。<br>//<br>// 所以不管是这个简单的判断子序列是否存在，还是常见问题Longest Common Subsequence（最长公共子序列）<br>// 在遇到s[s_length] == t[t_length]时，只需要判断s和t剩下部分的情况即可，无需判断t剩下部分与s的情况，因为这是无用的。<br>// 而在”字符串的模式匹配”中就需要继续考虑剩下t与s的关系，毕竟它要求的是连续字符串，而一个字符一个字符的BF方法<br>// 时间复杂度达到O(m*n)，所以就有了线性时间的KMP方法。<br>//<br>// 这个题目采用递归的方法会导致内存不够，因为每次需要将两个字符串进行值传递，<br>// 所以采用双层循环的方式，即code中的isSubsequence_optimal的方法，对子序列s进行遍历<br>// 在t中寻找与s中当前位置相同的字符，使用一个bool变量来表示是否存在，如果不存在，则直接return false，<br>// 如果存在，则继续s的一下位，而t则从上一个相同字符的下一位开始，我们之前可以用一个loc变量来保存之前的位置<br>//<br>// 这种子序列的问题还是相对比较简单的，相等于用两个指着，而时间复杂度为O(m+n)，<br>// 通过这个题目，让我对子序列和字符串匹配这两类问题的认识更加清晰。<br>//<br>// 另一个思考，题目另外问如果s是一系列字符串，不断的输入，应该如何更改代码呢？<br>// 值得思考🤔<br>//</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isSubsequence_optimal</span><span class="params">(<span class="built_in">string</span> s, <span class="built_in">string</span> t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">bool</span> result = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">int</span> t_length = t.size();</span><br><span class="line">        <span class="keyword">int</span> loc = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> c:s) &#123;</span><br><span class="line">            result = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = loc; i &lt; t_length; ++i) &#123;</span><br><span class="line">                <span class="keyword">if</span> (c == t[i]) &#123;</span><br><span class="line">                    result = <span class="literal">true</span>;</span><br><span class="line">                    loc = i + <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (!result) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isSubsequence</span><span class="params">(<span class="built_in">string</span> s, <span class="built_in">string</span> t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">bool</span> result;</span><br><span class="line">        <span class="keyword">int</span> s_length = s.size();</span><br><span class="line">        <span class="keyword">int</span> t_length = t.size();</span><br><span class="line">        <span class="keyword">if</span> (s_length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (s_length &gt; t_length) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (s[s_length - <span class="number">1</span>] == t[t_length - <span class="number">1</span>]) &#123;</span><br><span class="line">            result = isSubsequence(s.substr(<span class="number">0</span>, s_length - <span class="number">1</span>), t.substr(<span class="number">0</span>, t_length - <span class="number">1</span>));</span><br><span class="line">            <span class="comment">// 此处无需再判断结果，之前认识存在误区</span></span><br><span class="line">            <span class="comment">// if(!result)&#123;</span></span><br><span class="line">            <span class="comment">//     result = isSubsequence(s,t.substr(0,t_length-1));</span></span><br><span class="line">            <span class="comment">// &#125;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            result = isSubsequence(s, t.substr(<span class="number">0</span>, t_length - <span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> s = <span class="string">"abcdefg"</span>;</span><br><span class="line">    <span class="built_in">string</span> t = <span class="string">"aabbccddeeffgg"</span>;</span><br><span class="line">    Solution solution;</span><br><span class="line"><span class="comment">//    bool result = solution.isSubsequence(s,t);</span></span><br><span class="line">    <span class="keyword">bool</span> result = solution.isSubsequence_optimal(s,t);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;result&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mrhu.vip/2018/08/02/c-147-Insertion-Sort-List/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cheng Hu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chan's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/02/c-147-Insertion-Sort-List/" itemprop="url">c_147_Insertion_Sort_List</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-02T16:35:38+08:00">
                2018-08-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="/2018/08/02/c-147-Insertion-Sort-List/question.png" alt=""></p>
<p>//<br>// Created by Mr.Hu on 2018/8/2.<br>//<br>// leetcode 147 Insertion sort List<br>//<br>// 题目要求对给定的链表采用插入排序<br>//<br>// 链表使用插入排序比较棘手的地方就是前后两个节点的地址都要知道，<br>// 所以我对这个题目进行解答的思想是：判断当前节点与第一个节点的大小关系，小于第一个节点，则current-&gt;next=first;<br>// first = current，否则判断节点与前后节点的关系，即current-&gt;val与tmp-&gt;val和tmp-&gt;next-&gt;val的大小关系，<br>// 如果存在其中，则current-&gt;next = tmp-&gt;next,tmp-&gt;next = current，<br>// 最后一种情况就是循环到最后一个节点，tmp-&gt;next == nullptr，有之前的两个判断条件，此时一定有current-&gt;val&gt;tmp-&gt;val<br>// 整个题目的逻辑就是如此，需要两层while循环，第一层为待排序链表node，第二层为已经排序的链表node<br>//</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ListNode</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    ListNode *next;</span><br><span class="line">    ListNode(<span class="keyword">int</span> x) : val(x), next(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode *<span class="title">insertionSortList</span><span class="params">(ListNode *head)</span> </span>&#123;</span><br><span class="line">        ListNode *start = head;</span><br><span class="line">        <span class="keyword">if</span> (head == <span class="literal">nullptr</span> || head-&gt;next == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> start;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode *current = start-&gt;next;</span><br><span class="line">        start-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">        ListNode *current_next;</span><br><span class="line">        ListNode *tmp;</span><br><span class="line">        <span class="keyword">while</span> (current != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            tmp = start;</span><br><span class="line">            current_next = current-&gt;next;</span><br><span class="line">            current-&gt;next = <span class="literal">nullptr</span>;</span><br><span class="line">            <span class="comment">// insert operation</span></span><br><span class="line">            <span class="keyword">while</span> (tmp != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (tmp == start) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (current-&gt;val &lt; tmp-&gt;val) &#123;</span><br><span class="line">                        current-&gt;next = tmp;</span><br><span class="line">                        start = current;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (tmp-&gt;next == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                    tmp-&gt;next = current;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125; </span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (current-&gt;val &gt;= tmp-&gt;val &amp;&amp; current-&gt;val &lt;= tmp-&gt;next-&gt;val) &#123;</span><br><span class="line">                    current-&gt;next = tmp-&gt;next;</span><br><span class="line">                    tmp-&gt;next = current;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    tmp = tmp-&gt;next;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// update</span></span><br><span class="line">            current = current_next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> start;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">ListNode <span class="title">a</span><span class="params">(<span class="number">4</span>)</span></span>;</span><br><span class="line">    <span class="function">ListNode <span class="title">b</span><span class="params">(<span class="number">2</span>)</span></span>;</span><br><span class="line">    <span class="function">ListNode <span class="title">c</span><span class="params">(<span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="function">ListNode <span class="title">d</span><span class="params">(<span class="number">3</span>)</span></span>;</span><br><span class="line">    a.next = &amp;b;</span><br><span class="line">    b.next = &amp;c;</span><br><span class="line">    c.next = &amp;d;</span><br><span class="line">    Solution solution;</span><br><span class="line">    ListNode *result = solution.insertionSortList(&amp;a);</span><br><span class="line">    <span class="keyword">while</span> (result != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; result-&gt;val &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">        result = result-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mrhu.vip/2018/08/01/c-538-Convert-BST-to-Greater-Tree/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cheng Hu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chan's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/01/c-538-Convert-BST-to-Greater-Tree/" itemprop="url">c_538_Convert_BST_to_Greater_Tree</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-01T11:50:59+08:00">
                2018-08-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="/2018/08/01/c-538-Convert-BST-to-Greater-Tree/question.png" alt=""></p>
<p>//<br>// Created by Mr.Hu on 2018/8/1.<br>//<br>// leetcode 538 convert BST to greater tree<br>//<br>// 题目要求将一颗二叉搜索树转换为greater树，即将当前节点加上所有大于该节点的值，得到该节点的新值<br>//<br>// 我们知道，二叉搜索树满足任意树(子树)的根节点值大于其左子树上所有节点的值，小于右子数上所有节点的值<br>// 因此要实现题目要求，可以先求得二叉树所有节点的和，然后对树采用中序遍历，用result保存比当前节点大的所有节点值的和。<br>// 每访问一个节点，就将当前result赋值给当前节点的val，然后返回剩下的result(由result减去原来节点的val即可)<br>// 中序遍历采用深度优先搜索的递归方式进行，遍历完整棵树，所有节点的值也便更新完毕。<br>//<br>// 写完上述方法，突然想到另外一种方法，不需要预先计算所有节点的和，可以采用递归的方式，先访问右节点，然后将右节点的值加到<br>// 父节点中，再将所有和加到左节点中…<br>//</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TreeNode</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    TreeNode *left;</span><br><span class="line">    TreeNode *right;</span><br><span class="line">    TreeNode(<span class="keyword">int</span> x) : val(x), left(<span class="literal">nullptr</span>), right(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">sumBST</span><span class="params">(TreeNode *root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        sum += root-&gt;val;</span><br><span class="line">        sumBST(root-&gt;left);</span><br><span class="line">        sumBST(root-&gt;right);</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">greatTree</span><span class="params">(TreeNode *root, <span class="keyword">int</span> result)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp_one = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> tmp_two = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;left == <span class="literal">nullptr</span> &amp;&amp; root-&gt;right == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            tmp_one = result - root-&gt;val;</span><br><span class="line">            root-&gt;val = result;</span><br><span class="line">            <span class="keyword">return</span> tmp_one;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 如果不是叶子节点，则继续向下，且先左节点，再父节点，最后右节点</span></span><br><span class="line">            <span class="keyword">if</span> (root-&gt;left == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                tmp_one = result - root-&gt;val;</span><br><span class="line">                root-&gt;val = result;</span><br><span class="line">                <span class="keyword">return</span> greatTree(root-&gt;right, tmp_one);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root-&gt;right == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                tmp_one = greatTree(root-&gt;left, result);</span><br><span class="line">                tmp_two = tmp_one - root-&gt;val;</span><br><span class="line">                root-&gt;val = tmp_one;</span><br><span class="line">                <span class="keyword">return</span> tmp_two;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                tmp_one = greatTree(root-&gt;left, result);</span><br><span class="line">                tmp_two = tmp_one - root-&gt;val;</span><br><span class="line">                root-&gt;val = tmp_one;</span><br><span class="line">                <span class="keyword">return</span> greatTree(root-&gt;right, tmp_two);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">TreeNode *<span class="title">convertBST</span><span class="params">(TreeNode *root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">nullptr</span> || root-&gt;left == <span class="literal">nullptr</span> &amp;&amp; root-&gt;right == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> root;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> result = sumBST(root);</span><br><span class="line">        <span class="keyword">int</span> tmp = greatTree(root, result);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">TreeNode <span class="title">a</span><span class="params">(<span class="number">5</span>)</span></span>;</span><br><span class="line">    <span class="function">TreeNode <span class="title">b</span><span class="params">(<span class="number">2</span>)</span></span>;</span><br><span class="line">    <span class="function">TreeNode <span class="title">c</span><span class="params">(<span class="number">13</span>)</span></span>;</span><br><span class="line">    a.left = &amp;b;</span><br><span class="line">    a.right = &amp;c;</span><br><span class="line">    Solution solution;</span><br><span class="line">    TreeNode *root = solution.convertBST(&amp;a);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; root-&gt;val &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; root-&gt;left-&gt;val &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; root-&gt;right-&gt;val &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mrhu.vip/2018/07/31/c-113-Path-Sum-II/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cheng Hu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chan's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/31/c-113-Path-Sum-II/" itemprop="url">c_113_Path_Sum_II</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-31T11:17:35+08:00">
                2018-07-31
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="/2018/07/31/c-113-Path-Sum-II/question.png" alt=""></p>
<p>//<br>// Created by Mr.Hu on 2018/7/31.<br>//<br>// leetcode 113 path sum II<br>//<br>// 题目给定一个二叉树，和一个值sum，要求找出所有root-&gt;leaf的路径，路径上所有节点val的和为sum<br>//<br>// 这是一道关于二叉树遍历的题目，可以采用先序遍历的方式，以DFS算法来实现。<br>// 将路径中的值依此保存在vector<int>中，将之前走过的节点以stack&lt;TreeNode*&gt;来存储。<br>// 这个题目我的解法是先对二叉树中所有节点进行遍历，即graph函数，使用map来存储，value用bool型值：<br>// 如果节点为叶子结点，则value=true，否则为false；<br>//<br>// 拿到了每个节点的性质，我们开始使用DFS来遍历二叉树，如果当前节点存在左子树，则继续搜索其左子树，<br>// 如果只有右子树，则继续搜索右子树。直到节点没有左右子树为止，此时判断tmp_sum与sum的结果，如果相等，<br>// 则将path加入到result中，此时从stack中将top出栈，如果当前top()节点存在leaf_node，则将其赋值为nullptr，<br>// 否则将right_node赋值为nullptr，这是为了防止对同一个叶子结点访问多次，但是这里就会出现一个问题，当一个节点的<br>// 左右叶子节点都赋值为nullptr，此时这个节点也退化为leaf_node，这就需要用到我们之前map存储的各个节点状态。<br>// 如果当前节点不是leaf_node，且其左右子节点为nullptr，说明经过这个节点的路径已经遍历完了，这个节点也要出栈，<br>// 同理这个节点的父节点也要进行剪枝操作，直到最后只存在一个根节点，且其左右节点都已经被剪枝。<br>//<br>// 这种思想其实就是DFS的循环实现方法，需要借助辅助节点状态这个辅助信息来完成。<br>// 当然还有递归实现方法，递归实现在以后的学习中进行训练。<br>//</int></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TreeNode</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    TreeNode *left;</span><br><span class="line">    TreeNode *right;</span><br><span class="line"></span><br><span class="line">    TreeNode(<span class="keyword">int</span> x) : val(x), left(<span class="literal">nullptr</span>), right(<span class="literal">nullptr</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">graph</span><span class="params">(TreeNode *root, <span class="built_in">map</span>&lt;TreeNode *, <span class="keyword">bool</span>&gt; &amp;leaf_node)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;left == <span class="literal">nullptr</span> &amp;&amp; root-&gt;right == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            leaf_node[root] = <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            leaf_node[root] = <span class="literal">false</span>;</span><br><span class="line">            graph(root-&gt;left, leaf_node);</span><br><span class="line">            graph(root-&gt;right, leaf_node);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; pathSum(TreeNode *root, <span class="keyword">int</span> sum) &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">map</span>&lt;TreeNode *, <span class="keyword">bool</span>&gt; leaf_node;</span><br><span class="line">        graph(root, leaf_node);</span><br><span class="line">        <span class="built_in">stack</span>&lt;TreeNode *&gt; nodes;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; path;</span><br><span class="line">        <span class="keyword">int</span> tmp_sum = <span class="number">0</span>;</span><br><span class="line">        nodes.push(root);</span><br><span class="line">        path.push_back(root-&gt;val);</span><br><span class="line">        tmp_sum += root-&gt;val;</span><br><span class="line">        TreeNode *current_node;</span><br><span class="line">        <span class="keyword">while</span> (!nodes.empty()) &#123;</span><br><span class="line">            current_node = nodes.top();</span><br><span class="line">            <span class="keyword">if</span> (current_node-&gt;left == <span class="literal">nullptr</span> &amp;&amp; current_node-&gt;right == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                <span class="comment">//当前节点是叶子节点，是则进行下面几步</span></span><br><span class="line">                <span class="keyword">if</span> (current_node-&gt;left == <span class="literal">nullptr</span> &amp;&amp; current_node-&gt;right == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                    <span class="comment">//当前节点是叶子节点，是则进行下面几步</span></span><br><span class="line">                    <span class="keyword">if</span> (leaf_node[current_node] &amp;&amp; tmp_sum == sum) &#123;</span><br><span class="line">                        result.push_back(path);</span><br><span class="line">                    &#125;</span><br><span class="line">                    tmp_sum -= path.back();</span><br><span class="line">                    path.pop_back();</span><br><span class="line">                    nodes.pop();</span><br><span class="line">                    <span class="keyword">if</span>(nodes.empty())&#123;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (nodes.top()-&gt;left != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                        nodes.top()-&gt;left = <span class="literal">nullptr</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        nodes.top()-&gt;right = <span class="literal">nullptr</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (current_node-&gt;left != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                nodes.push(current_node-&gt;left);</span><br><span class="line">                tmp_sum += current_node-&gt;left-&gt;val;</span><br><span class="line">                path.push_back(current_node-&gt;left-&gt;val);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (current_node-&gt;right != <span class="literal">nullptr</span>) &#123;</span><br><span class="line">                nodes.push(current_node-&gt;right);</span><br><span class="line">                tmp_sum += current_node-&gt;right-&gt;val;</span><br><span class="line">                path.push_back(current_node-&gt;right-&gt;val);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">TreeNode <span class="title">a</span><span class="params">(<span class="number">5</span>)</span></span>;</span><br><span class="line">    <span class="function">TreeNode <span class="title">b</span><span class="params">(<span class="number">4</span>)</span></span>;</span><br><span class="line">    <span class="function">TreeNode <span class="title">c</span><span class="params">(<span class="number">11</span>)</span></span>;</span><br><span class="line">    <span class="function">TreeNode <span class="title">d</span><span class="params">(<span class="number">7</span>)</span></span>;</span><br><span class="line">    <span class="function">TreeNode <span class="title">e</span><span class="params">(<span class="number">2</span>)</span></span>;</span><br><span class="line">    <span class="function">TreeNode <span class="title">f</span><span class="params">(<span class="number">8</span>)</span></span>;</span><br><span class="line">    <span class="function">TreeNode <span class="title">g</span><span class="params">(<span class="number">13</span>)</span></span>;</span><br><span class="line">    <span class="function">TreeNode <span class="title">h</span><span class="params">(<span class="number">4</span>)</span></span>;</span><br><span class="line">    <span class="function">TreeNode <span class="title">i</span><span class="params">(<span class="number">5</span>)</span></span>;</span><br><span class="line">    <span class="function">TreeNode <span class="title">j</span><span class="params">(<span class="number">1</span>)</span></span>;</span><br><span class="line">    a.left = &amp;b;</span><br><span class="line">    b.left = &amp;c;</span><br><span class="line">    c.left = &amp;d;</span><br><span class="line">    c.right = &amp;e;</span><br><span class="line">    a.right = &amp;f;</span><br><span class="line">    f.left = &amp;g;</span><br><span class="line">    f.right = &amp;h;</span><br><span class="line">    h.left = &amp;i;</span><br><span class="line">    h.right = &amp;j;</span><br><span class="line">    Solution solution;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; result = solution.pathSum(&amp;a, <span class="number">22</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mrhu.vip/2018/07/30/c-332-Reconstruct-Itinerary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cheng Hu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chan's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/30/c-332-Reconstruct-Itinerary/" itemprop="url">c_332_Reconstruct_Itinerary</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-30T17:27:43+08:00">
                2018-07-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="/2018/07/30/c-332-Reconstruct-Itinerary/question.png" alt=""></p>
<p>//<br>// Created by Mr.Hu on 2018/7/30.<br>//<br>// leetcode 332 reconstruct itinerary<br>//<br>// 题目给定多个航班信息，要求从”JFK”开始，飞往下一个航班，将所有航班呢飞完，求满足航班信息在字符上最小的航班线路<br>//<br>// 这个题目是一个关于图的题目，给定的tickets信息能够构成一张有向图，需要在有向图进行求解。<br>// 对于每一条航班路线，就是从”JFK”节点开始，向下进行遍历直到叶子节点，所经过的所有节点构成线路，<br>// 并且遍历采用深度优先（DFS）。所以我们做这个题目第一步就是要建图，使用邻接链表或邻接矩阵构建节点之间的关系，<br>// 但是在在使用DFS上与我们平时使用的方法并不相同：平时我们是遍历所有节点，因此遍历过的节点我们就标记为true，不再访问，<br>// 在这里，当我们每次访问完一条路径后，需要重新选择上一个节点的另外一种情况，所以我们需要每次得到一条路径并与原路径进行对比，<br>// 进行回溯操作后，之前访问过的节点还是需要继续访问。<br>//<br>// 第二种方法：既然题目指出每一组票一定有一组正确的解答，而又需要航班信息在字符组合上最小，<br>// 用一个map来点与点之间的关系，想到与邻接链表，key值为from信息，value是to信息，而这里的to有多种信息，且可能相同，<br>// 而且题目又要求航班信息字符组合最小，所以我们使用multiset这样的数据结构来存储to信息，可以重复，且自动排序为从小到大，<br>// 图建完之后，我们从stack来存储路径当前所到达的节点，当stack不为空时，则说明还没有将所有tickets使用完，<br>// 如果当前节点的value值不为空，则说明还有结下的路可以走，而为了满足路径字符最小，所以我们去value.begin()的节点信息，往下继续走；<br>// 如果当前节点的value值为空，则说明路径已经规划完成，将stack.top()加入itinerary中，stack.pop()，继续循环。<br>// 循环结束后，将加入itinerary进行reverse即得到满足条件的路径。<br>// 这种解法妙在只需要一次遍历，就可以得到最终的结果，这是基于结果一定存在，且每次加入的节点都是字符最小的节点，这要归功于set，<br>// 这种方法可以避免使用回溯和手动去比较字符串大小。<br>//</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; findItinerary(<span class="built_in">vector</span>&lt;pair&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt;&gt; tickets) &#123;</span><br><span class="line">        <span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="built_in">multiset</span>&lt;<span class="built_in">string</span>&gt;&gt; graph;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; itinerary;</span><br><span class="line">        <span class="keyword">if</span> (tickets.size() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> itinerary;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> ticket:tickets) &#123;</span><br><span class="line">            graph[ticket.first].insert(ticket.second);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">stack</span>&lt;<span class="built_in">string</span>&gt; dfs;</span><br><span class="line">        dfs.push(<span class="string">"JFK"</span>);</span><br><span class="line">        <span class="keyword">while</span> (!dfs.empty()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (graph[dfs.top()].empty()) &#123;</span><br><span class="line">                itinerary.push_back(dfs.top());</span><br><span class="line">                dfs.pop();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="built_in">string</span> tmp = *(graph[dfs.top()].begin());</span><br><span class="line">                <span class="comment">//erase</span></span><br><span class="line">                graph[dfs.top()].erase(graph[dfs.top()].begin());</span><br><span class="line">                <span class="comment">// add</span></span><br><span class="line">                dfs.push(tmp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        reverse(itinerary.begin(), itinerary.end());</span><br><span class="line">        <span class="keyword">return</span> itinerary;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;pair&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt;&gt; tickets;</span><br><span class="line">    pair&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; a(<span class="string">"MUC"</span>, <span class="string">"LHR"</span>);</span><br><span class="line">    pair&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; b(<span class="string">"JFK"</span>, <span class="string">"MUC"</span>);</span><br><span class="line">    pair&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; c(<span class="string">"SFO"</span>, <span class="string">"SJC"</span>);</span><br><span class="line">    pair&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; d(<span class="string">"LHR"</span>, <span class="string">"SFO"</span>);</span><br><span class="line">    tickets.emplace_back(a);</span><br><span class="line">    tickets.emplace_back(b);</span><br><span class="line">    tickets.emplace_back(c);</span><br><span class="line">    tickets.emplace_back(d);</span><br><span class="line">    Solution solution;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; itinerary = solution.findItinerary(tickets);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;n:itinerary) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; n &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://mrhu.vip/2018/07/29/b-80-Remove-Duplicated-From-Sorted-Array-II/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cheng Hu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Chan's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/29/b-80-Remove-Duplicated-From-Sorted-Array-II/" itemprop="url">b_80_Remove_Duplicated_From_Sorted_Array_II</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-29T16:46:10+08:00">
                2018-07-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="/2018/07/29/b-80-Remove-Duplicated-From-Sorted-Array-II/question.png" alt=""></p>
<p>//<br>// Created by Mr.Hu on 2018/7/29.<br>//<br>// 题目要求对已排序的数组进行去重处理，要求每个元素最多只能出现2此，最后返回满足要求的数组长度，要求在原数组上进行操作<br>//<br>// 第一种想法：循环遍历已排序数组，如果当前元素出现的次数超过2次，则将其之后的元素整体向前移，数组length–<br>//              循环结束条件为i&lt;length，在这个过程中其实也在不断缩小 数组的长度，但是这个涉及到其后所有元素的移动，时间效率比较高。<br>//<br>// 第二种想法：使用两个指针分别指向重复元素起始位置和循环的当前位置，如果当前位置不满足重复情况，则和重复元素起始位交换，<br>//              但是这种想法的代码没有实现出来…在其实位置有点模糊。<br>//<br>// 他人的好方案啊：对于数组进行迭代，i表示数组中满足条件的位数。<br>//                  前两位是不用影响结果的，从第n位(n&gt;2)开始，每次和n-2为比较，如果nums[n]&gt;nums[n-2]，<br>//                  则可以将nums[i] = nums[n]，因为满足上述大小情况，一定存在nums[n]出现的次数小于等于2，<br>//                  这个地方很巧妙！同时i++，让我们一起欣赏下面optimal的优美代码。<br>//</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">removeDuplicates</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> length = nums.size();</span><br><span class="line">        <span class="keyword">if</span> (length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> tmp = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; length; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] == tmp) &#123;</span><br><span class="line">                ++count;</span><br><span class="line">                <span class="keyword">if</span> (count &gt; <span class="number">2</span>) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; length; ++j) &#123;</span><br><span class="line">                        nums[j - <span class="number">1</span>] = nums[j];</span><br><span class="line">                    &#125;</span><br><span class="line">                    --length;</span><br><span class="line">                    --i;</span><br><span class="line">                    nums[length] = tmp; <span class="comment">//optional</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                count = <span class="number">1</span>;</span><br><span class="line">                tmp = nums[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">removeDuplicates_optimal</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> n:nums)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i&lt;<span class="number">2</span> || n&gt;nums[i<span class="number">-2</span>])&#123;</span><br><span class="line">                nums[i++] = n;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums;</span><br><span class="line">    nums.emplace_back(<span class="number">1</span>);</span><br><span class="line">    nums.emplace_back(<span class="number">2</span>);</span><br><span class="line">    nums.emplace_back(<span class="number">2</span>);</span><br><span class="line">    nums.emplace_back(<span class="number">2</span>);</span><br><span class="line">    nums.emplace_back(<span class="number">3</span>);</span><br><span class="line">    nums.emplace_back(<span class="number">4</span>);</span><br><span class="line">    Solution solution;</span><br><span class="line"><span class="comment">//    int length = solution.removeDuplicates(nums);</span></span><br><span class="line">    <span class="keyword">int</span> length = solution.removeDuplicates_optimal(nums);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; ++i) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; nums[i] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/10/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/">12</a><span class="space">&hellip;</span><a class="page-number" href="/page/24/">24</a><a class="extend next" rel="next" href="/page/12/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Cheng Hu</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">234</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">30</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Cheng Hu</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        
<div class="busuanzi-count">
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  

  

</body>
</html>
